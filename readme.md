# 介绍
欢迎使用战地2042qq机器人，该插件是在[mirai](https://github.com/mamoe/mirai)的基础是开发的，
目的是方便查询玩家数据
# 使用方法
## 加载方法
下载插件后将插件放到mirai的plugin文件夹里面运行一遍即可，运行后会在config文件夹里面生成配置文件
夹，由于本人对Java也是刚刚入门，所以对于mirai的配置文件生成不太熟悉，自己写了应该简单的配置读取，
不支持热读取。下面是配置文件详情

    qqGroup: #群组列表
        - '111'
        - '1111'
        - '11'
        - '11'
    user: '111111' #管理员
    qqBot: 222 #机器人号
## 数据文件夹
在除了配置文件夹的配置后，还需要到数据文件夹下放入3个文件夹，分别是

1.cl

2.veh

3.wp

如果data文件夹里面没有com.BF2042Stats.v1文件夹的需要自行创建

这三个文件夹的作用是让机器人在本地拉取武器、专家和载具的数据，减少网络拉取的时间，加快速度，并且对于
在文件夹里面没有但是json里面含有图片链接的情况，机器人会自行下载图片放到对应的文件夹里面，无需自己添加
# 指令介绍
指令的前缀都是#号，指令结构大都为type id 平台（平台不填即为pc端），除了绑定指令

**这些指令都需要加入#作为前缀，否则机器人不会反应**

-cx
基本的查询指令，输出基本数据和数据图，数据图较为大，可能会等待片刻![img.png](img.png)![img_1.png](img_1.png)![img_2.png](img_2.png)

-cl 查询玩家专家的数据指令
![img_3.png](img_3.png)


-wp 查询玩家武器的数据指令
懒得放了

-vh 查询玩家载具的数据指令


-bd **注意**该指令是用于将玩家id与qq号进行绑定的指令，绑定后只需要输入指令前缀即可，既#cx和#cl之类的，方便快速查看自己的数据

-list **注意**该指令仅适用与管理员（指配置文件里面的user）。用于查看缓存的玩家数量

-cd 菜单指令



# 机器人对于玩家数据的处理
对于绑定的玩家的数据，机器人会对与该数据进行应该时长为24小时的缓存，在缓存期间会每隔一小时自动更新数据，这个方法极大的优化了对于玩家数据的响应，
并且缓存数量是没有限制的。

对于没有绑定的玩家的数据，只会缓存2个小时，到期后会自动删除
# 待增加的功能

1.玩家申请入群的验证，自动查询玩家数据

2.想到了在做。。。
